<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Multi-Server Webserv Project</title>
  <script>
    // Dynamically set links and server info
    function getBaseUrl() {
      return window.location.protocol + '//' + window.location.host;
    }

      window.onload = function() {
      const base = getBaseUrl();
      const host = window.location.hostname;
      const port = window.location.port;
      document.getElementById('server-info').textContent = 'Connected to: ' + host + ':' + port;
      document.getElementById('cgi-section').style.display = 'block';
      document.getElementById('price_calculator-link').href = base + '/cgi_bin_multi/price_calculator.html';
      document.getElementById('upload-link').href = base + '/cgi_bin_multi/upload.html';
      document.getElementById('delete-link').href = base + '/cgi_bin_multi/delete.html';
      document.getElementById('readirect-link').href = base + '/old-page';
      document.getElementById('autoindex-link').href = base + '/cgi-bin';
      console.log('Base URL set to: ' + base + '/cgi_bin_multi');
  };
  </script>
</head>
<body>
  <body bgcolor="#f6fbff">
    <table align="center" width="900" cellpadding="20" style="background:#e0eafc; border-radius:24px; box-shadow:0 8px 32px #cfdef344; margin-top:40px;">
      <tr>
        <td>
          <table align="center" width="100%" cellpadding="10" bgcolor="#f7faff" style="border-radius:18px;">
            <tr>
              <td>
                <h1 align="center" style="color:#764ba2; font-size:2.5em; margin-bottom:15px;">üåê Webserv Project</h1>
                <div align="center" style="color:#667eea; font-size:1.1em; margin-bottom:40px;">
                  <p>Server: <strong id="server-info">Detecting...</strong></p>
                </div>
                <!-- CGI Section (for ports 8080/8081 - vhost.main) -->
                <div id="cgi-section" style="display:none;">
                  <table align="center" cellpadding="20" bgcolor="#f6fbff" style="border-radius:15px;">
                    <tr>
                      <td>
                        <a id="price_calculator-link" href="#" target="_blank" style="display:block; text-align:center; background:#e8f7e6; padding:30px 20px; border-radius:15px; box-shadow:0 8px 20px #0002; min-width:220px; text-decoration:none;">
                          <div style="font-size:3em; color:#4CAF50;">üßÆ</div>
                          <div style="font-weight:bold; font-size:1.1em; color:#333;">Price Calculator</div>
                        </a>
                      </td>
                      <td>
                        <a id="upload-link" href="#" target="_blank" style="display:block; text-align:center; background:#fffbe6; padding:30px 20px; border-radius:15px; box-shadow:0 8px 20px #0002; min-width:220px; text-decoration:none;">
                          <div style="font-size:3em; color:#FF9800;">üì§</div>
                          <div style="font-weight:bold; font-size:1.1em; color:#333;">Upload File</div>
                        </a>
                      </td>
                      <td>
                        <a id="delete-link" href="#" target="_blank" style="display:block; text-align:center; background:#ffe6e6; padding:30px 20px; border-radius:15px; box-shadow:0 8px 20px #0002; min-width:220px; text-decoration:none;">
                          <div style="font-size:3em; color:#F44336;">üóëÔ∏è</div>
                          <div style="font-weight:bold; font-size:1.1em; color:#333;">Delete File</div>
                        </a>
                      </td>
                      <td>
                        <a id="readirect-link" href="#" target="_blank" style="display:block; text-align:center; background:#ffe6e6; padding:30px 20px; border-radius:15px; box-shadow:0 8px 20px #0002; min-width:220px; text-decoration:none;">
                          <div style="font-size:3em; color:#F44336;">üóëÔ∏è</div>
                          <div style="font-weight:bold; font-size:1.1em; color:#333;">Readirect-link</div>
                        </a>
                      </td>
                      <td>
                        <a id="autoindex-link" href="#" target="_blank" style="display:block; text-align:center; background:#ffe6e6; padding:30px 20px; border-radius:15px; box-shadow:0 8px 20px #0002; min-width:220px; text-decoration:none;">
                          <div style="font-size:3em; color:#F44336;">üóëÔ∏è</div>
                          <div style="font-weight:bold; font-size:1.1em; color:#333;">dir-listing</div>
                        </a>
                      </td>
                    </tr>
                  </table>
                </div>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
</body>
</html>